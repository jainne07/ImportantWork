<form (ngSubmit)="tempForm()" #signup="ngForm">
  <div id="user-data" ngModelGroup="userData" #userData="ngModelGroup">
    <div class="form-group">
      <label for="username">Username</label>
      <input
        type="text"
        id="username"
        class="form-control"
        name="username"
        ngModel
        required
      />
    </div>
    <button class="btn btn-info" type="button" (click)="suggestNam()">Suggest an Username</button>
    <div class="form-group">
      <label for="email">Mail</label>
      <input
        type="email"
        id="email"
        class="form-control"
        name="email"
        ngModel
        required
        email
        #email="ngModel"
      />
    </div>
    <span *ngIf="!email.valid && email.touched" class="text-danger">Please enter valid email</span>
    <div *ngIf="!userData.valid && userData.touched" class="text-danger">User data is invalid</div>
  </div>
  <div class="form-group">
    <label for="secret">Secret Questions</label>
    <select id="secret" class="form-control" name="secret" [ngModel]="defaultQues" required >
      <option value="pet">Your first Pet?</option>
      <option value="teacher">Your first teacher?</option>
    </select>
  </div>
  <div class="form-group">
    <label for="answer">Give feedback</label>
    <textarea
      name="answer"
      id="answer"
      class="form-control"
      cols="20"
      rows="2"
      [(ngModel)]="answer"
    ></textarea>
    {{answer}}
  </div>
  <div class="form-check form-check-inline" *ngFor="let gen of gender">
    <input id="my-input" class="form-check-input" type="radio" name="gender" [value]="gen" ngModel required>
    <label for="my-input" class="form-check-label">{{gen}}</label>
  </div>
  <hr>
  <div class="form-group">
      <button class="btn btn-primary" type="submit" [disabled]="!signup.valid">
        Submit
      </button>
  </div>
  <div class="row" *ngIf="submitted">
    <div class="col-sm-12" *ngFor="let user of users">
      <h3>Your Data</h3>
      <p>Username: {{ user.username }}</p>
      <p>Mail: {{ user.email }}</p>
      <p>Secret Question: Your first {{ user.secret }}</p>
      <p>Answer: {{ user.answer }}</p>
      <p>Gender: {{ user.gender }}</p>
    </div>
  </div>
</form>
